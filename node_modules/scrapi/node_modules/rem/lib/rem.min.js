var d=null,g="undefined"==typeof require?this.ga={}:exports;g.H=function(a){return JSON.parse(JSON.stringify(a))};g.modify=function(a,b){var c=g.H(a),e;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(c[e]=a[e]);for(e in b)Object.prototype.hasOwnProperty.call(b,e)&&(c[e]=b[e]);return c};g.G=function(a){function b(){return b.call.apply(b,arguments)}b.__proto__=a;return b};g.R=function(a){return JSON.stringify(a).replace(/[\u007f-\uffff]/g,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})};
g.B=function(a,b){a.ha=b;a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1}})};g.p=d;function i(){}function l(a,b){return a.hasOwnProperty.call(a.o||(a.o={}),b)?a.o[b]:a.o[b]=[]}i.prototype.k=i.prototype.addListener=function(a,b){0!==this.D&&l(this,a).push(b)>(this.D||10)&&console&&console.warn("Possible EventEmitter memory leak detected. "+this.o[a].length+" listeners added. Use emitter.setMaxListeners() to increase limit.");this.q("newListener",a,b);return this};
i.prototype.q=function(a){for(var b=Array.prototype.slice.call(arguments,1),c=0,e=l(this,a).slice();c<e.length;c++)e[c].apply(this,b)};g.U=i;g.url={parse:d,c:d,host:function(a){return a.hostname&&a.hostname+(a.port?":"+a.port:"")},path:function(a){return a.pathname+(g.f.stringify(a.b)?"?"+g.f.stringify(a.b):"")+(a.hash?"#"+encodeURIComponent(a.hash):"")}};
g.d={create:function(a){return g.d.url({method:"GET",headers:{},url:d,body:d},a)},url:function(a,b){"string"==typeof b&&(b=g.url.parse(b));b.b=g.modify(a.url?a.url.b:{},b.b);a=g.modify(a,{url:a.url?g.modify(a.url,b):b});return g.modify(a,{headers:g.modify(a.headers,{host:g.url.host(a.url)})})},body:function(a,b,c){if("object"==typeof c){if("form"==b||"application/x-www-form-urlencoded"==b)b="application/x-www-form-urlencoded",c=g.f.stringify(c);if("json"==b||"application/json"==b)b="application/json",
c=g.R(c)}return g.modify(a,{headers:g.modify(a.headers,{"content-length":c.length,"content-type":b}),body:c})},send:d};g.f={stringify:d,parse:d};g.path={join:d};g.L=function(a){var b=require("fs"),c=require("path");try{return JSON.parse(b.da(c.join(__dirname,"../services",a+".json")))}catch(e){return d}};
if("undefined"!=typeof require){var n=function(a){var b={},c;for(c in a)b[c.replace(/(?:^|\b)\w/g,function(a){return a.toUpperCase()})]=a[c];return b};g.p=function(a,b){var c=[];a.k("data",function(a){c.push(a)});a.k("end",function(){b(Buffer.concat(c))})};var p=require("url");g.url.parse=function(a){a=p.parse(String(a),!0);return{protocol:a.protocol,i:a.i,hostname:a.hostname,port:a.port,pathname:a.pathname,b:a.b||{},search:a.search,hash:a.hash}};g.url.c=function(a){return p.c(a)};var q=require("http"),
r=require("https");require("querystring");g.d.send=function(a,b,c){c==d&&(c=b,b=d);var e=("https:"==a.url.protocol?r:q).d({s:b||void 0,method:a.method,headers:n(a.headers),protocol:a.url.protocol,hostname:a.url.hostname,port:a.url.port,path:g.url.path(a.url)});e.k("response",function(e){if((e.g/100|0)==3&&e.headers.location&&a.ea!==false)g.d.send(g.d.url(a,e.headers.location),b,c);else{e.url=g.url.c(a.url);c&&c(d,e)}});a.body!=d&&e.write(a.body);e.end();return e};g.f=require("querystring");g.path=
require("path")}
if("undefined"==typeof require){var s=function(a){var b=0;this.statusText=a.statusText;this.g=a.status;a.onreadystatechange=function(){3==a.readyState&&(this.q("data",a.responseText.substr(b)),b=a.responseText.length);4==a.readyState&&(b<a.responseText.length&&this.q("data",a.responseText.substr(b)),this.q("end"))}.bind(this)};g.p=function(a,b){var c=[];a.k("data",function(a){c.push(a)});a.k("end",function(){b(c.join(""))})};g.url.parse=function(a){var b=document.createElement("a");b.href=a;return{protocol:b.protocol,
i:b.i,hostname:b.hostname,port:b.port,pathname:b.pathname,b:g.f.parse(b.search||""),hash:b.hash&&decodeURIComponent(b.hash.substr(1))}};g.url.c=function(a){var b=document.createElement("a");b.protocol=a.protocol;b.i=a.i;b.hostname=a.hostname;b.port=a.port;b.pathname=a.pathname;b.b=g.f.stringify(a.b);b.hash=a.hash;return b.href};g.f.parse=function(a){for(var b={},a=a.replace(/^\?/,"").replace(/\+/g," ").split("&"),c=0,e=a.length,f;c<e;c++)a[c]&&(f=a[c].split("="),b[decodeURIComponent(f[0])]=decodeURIComponent(f[1]));
return b};g.f.stringify=function(a){var b=[],c;for(c in a)b.push(encodeURIComponent(c)+(a[c]==d?"":"="+encodeURIComponent(a[c])));return b.join("&")};g.B(s,i);g.d.send=function(a,b){var c=new XMLHttpRequest;c.onreadystatechange=function(){if(2==c.readyState){var a=new s(c);b(2!=(c.g/100|0)&&c.g,a)}};var e=["host","user-agent","content-length"];c.open(a.method,g.url.c(a.url),!0);var f=camelCaseHeaders(a.headers),h;for(h in f)-1==e.indexOf(h)&&c.setRequestHeader(h,f[h]);c.send(a.body)};g.path.join=
function(){var a=Array.prototype.slice.call(arguments),b=document.createElement("a");b.href=window.location.href;b.pathname=a.join("/").replace(/\/+/g,"/");return b.pathname.substr(a[0]&&"/"==a[0][0]?0:1)}};var t="undefined"==typeof exports?this.fa={}:exports,g="undefined"==typeof require?g:require("./remutil");t.ja=g;t.v="Mozilla/5.0 (compatible; REMbot/1.0; +http://remlib.org/)";t.C=d;function u(a,b,c){this.V=a;this.Q=b;this.data=c;this.type=a.c;"json"==this.type?this.K=c:"xml"==this.type&&(this.xml=c);this.g=Number(this.Q.g);this.J=400<this.g?this.g:0}function v(a,b,c){this.P=a;this.Y=b||"json";this.j=c}
v.prototype.get=function(a,b){"function"==typeof a&&(b=a,a=d);return this.j(g.modify(g.d.url(this.P,{b:a||{}}),{method:"GET"}),b)};function w(){}w.prototype.l=function(a){this.h||(this.h={});(this.h.request||(this.h.request=[])).push(a)};w.prototype.j=function(a){function b(){0==f.length?e():f.shift().apply(this,c.concat([b.bind(this)]))}var c=Array.prototype.slice.call(arguments,1),e=c.pop(),f=(this.h&&this.h[a]||[]).slice();b.call(this);return this};
function x(a,b){this.a=a;this.e=b||{};this.key=this.e.key;this.m=this.e.m;this.c=this.e.c||"json";this.s=this.e.s;this.a.u||(this.a.u={K:{}});if(!this.a.u[this.c])throw Error('Format "'+this.c+'" not available. Please specify an available format in the options parameter.');this.a=g.modify(this.a,this.a.u[this.c]);this.l(function(a,b){a.headers["user-agent"]=a.headers["user-agent"]||t.v;b()});this.a.F&&this.l(function(a,b){a.url.pathname=this.a.F+a.url.pathname;b()});this.a.S&&this.l(function(a,b){a.url.pathname=
a.url.pathname+this.a.S;b()});this.a.z&&this.l(function(a,b){var f=this.a.z,h;for(h in f)a.url.b[h]=this.e[this.a.z[h]];b()});this.a.M&&this.l(function(a,b){var f=this.a.M,h;for(h in f)a.url.b[h]=f[h];b()})}g.B(x,w);x.prototype.A=function(a){return a()};
x.prototype.call=function(){var a=this,b=Array.prototype.slice.call(arguments),c=function(a,b){this.send(a,function(c,e){c?b&&b(c,d,e):this.j("response",a,e,function(){this.N(e,function(a){a=new u(this,e,a);b&&b(a.J,a.data,a)}.bind(this))}.bind(this))}.bind(this))}.bind(this),e="object"==typeof b[b.length-1]?b.pop():{},b=g.path.join.apply(d,b);return new v(g.d.create({b:e,pathname:b}),a.a.ia,function(b,e){a.A(function(){var m=b.url.pathname.replace(/^(?!\/)/,"/");if(Array.isArray(a.a.t)){var k="";
a.a.t.some(function(a){if("string"==typeof a)return k=a,!0;if(m.match(RegExp(a[0])))return k=a[1],!0})}else k=String(a.a.t);b=g.d.url(b,g.url.parse(k));b=g.d.url(b,{pathname:g.path.join(b.url.pathname,m)});a.debug&&console.error("[URL]",g.url.c(b.url));a.j("request",b,function(){c(b,e)})});return b})};
x.prototype.N=function(a,b){g.p(a,function(a){try{"xml"===this.c?a=t.O.xml(String(a)):(239==a[0]&&(187==a[1]&&191==a[2])&&(a=a.slice(3)),a=JSON.parse(String(a)))}catch(e){console.warn("Could not parse data for type "+this.c+":",e)}b(a)}.bind(this))};x.prototype.send=function(a,b){g.d.send(a,this.s,b)};x.prototype.get=function(){var a=this("");return a.get.apply(a,arguments)};
"undefined"!==typeof require&&(x.prototype.w=!1,x.prototype.r=!1,x.prototype.prompt=function(a){this.r=a||a==d;this.w=!0;return this},x.prototype.A=function(a){var b=require("nconf"),c=require("read"),e=require("cli-color"),f=require("path"),h=t.C||f.join(require("osenv").home(),".remconf");b.file(h);var m,k,j=this;if(this.key)return a();if(!this.w||!this.a.id)throw Error("No API key specified.");if(this.r&&b.get(this.a.id)){k=b.get(this.a.id);for(m in k)f=k[m],this.e[m]=f;m=this.e;this.key=m.key;
this.m=m.m;return a()}console.log(e.n("Initializing API keys for "+this.a.id+" on first use."));this.a.I&&console.log(e.n("Register for an API key here:"),this.a.I);this.j("configure",function(){c({prompt:e.n(this.a.id+" API key: ")},function(f,k){j.key=k;j.e.key=k;k||(console.error(e.red("ERROR:"),"No API key specified, aborting."),process.Z(1));return c({prompt:e.n(j.a.id+" API secret (if provided): ")},function(c,f){j.m=f;j.e.m=f;if(j.r){b.set(j.a.id+":key",k);b.set(j.a.id+":secret",f);return b.save(function(){console.log(e.n("Your credentials are saved to the configuration file "+
h));console.log(e.n("Edit that file to update or change your credentials.\n"));return a()})}console.log("");return a()})})})});t.T=x;t.create=function(a,b){typeof a=="string"&&(a={t:a});return g.G(new x(a,b))};
t.load=function(a,b,c){manifest=g.L(a);b=b=Number(b)||"*";if(!manifest||!manifest[b])if(b=="*"&&manifest){b=Object.keys(manifest).sort().pop();if(!manifest[b])throw Error("Unable to find API "+JSON.stringify(a)+" version "+JSON.stringify(Number(b))+'. For the latest API, use "*".');}else{if(manifest)throw Error("Unable to find API "+JSON.stringify(a)+" version "+JSON.stringify(Number(b))+'. For the latest API, use "*".');throw Error("Unable to find API "+JSON.stringify(a)+".");}manifest=manifest[b];
manifest.id=a;manifest.version=b;return t.create(manifest,c)};t.url=function(){var a=Array.prototype.slice.call(arguments),b=typeof a[a.length-1]=="object"?a.pop():{},c=g.url.parse(a.shift());c.pathname=g.path.join.apply(d,[c.pathname].concat(a));c.b=g.modify(c.b,b);return new v(g.d.create(c),"form",function(a,b){a.headers["user-agent"]=a.headers["user-agent"]||t.v;g.d.send(a,b);return a})};t.W=g.p;
t.O={xml:function(a){try{var b=require("libxmljs")}catch(c){throw Error("Please install libxmljs in order to parse XML APIs.");}return b.ba(a)}};function y(a,b){b.split(".").filter(String).forEach(function(b){a=a&&a[b]});return a}
t.ca=function(a,b,c){var c=typeof c=="function"?c:b,b=typeof b=="object"?b:{},e=b.root||"",f=b.X||"created_at",h=d;setInterval(function(){a.get(function(a,b){if(b&&y(b,e)){for(var j=y(b,e),o=0;o<j.length;o++)if(h&&new Date(y(j[o],f))<=h)break;if(o>0){j=j.slice(0,o);c(d,j);h=new Date(y(j[0],f))}}})},b.$||1E3)};"undefined"!=typeof require&&(require("./oauth"),require("./aws"),require("./session"),t.console=t.aa);
